{

    "snATAC.trim_fastp": {
      "trimmed_read1": {
        "path": "Files/sn/Fastq/${basename}",
        "table": "Files/sn/Fastq/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"trimed_R1_fastq\"]"
      },
      "trimmed_read2": {
        "path": "Files/sn/Fastq/${basename}",
        "table": "Files/sn/Fastq/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"trimed_R2_fastq\"]"
      },
      "qc_html_report": {
        "path": "Files/sn/Reports/${basename}",
        "table": "Files/sn/Reports/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"fastp_report\"]"
      }
    },
    "snATAC.do_align": {
      "align_sam": {
        "path": "Files/sn/Align/${basename}",
        "table": "Files/sn/Align/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"sam\"]"
      },
      "align_rawbam_dupmarked": {
        "path": "Files/sn/Align/${basename}",
        "table": "Files/sn/Align/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bam\"]"
      },
      "align_summary": {
        "path": "Files/sn/Reports/${basename}",
        "table": "Files/sn/Reports/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"align_report\"]"
      },
      "picard_report": {
        "path": "Files/sn/Reports/${basename}",
        "table": "Files/sn/Reports/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"picard_report\"]"
      }
    },
    "snATAC.do_align_filter": {
      "filtered_bam": {
        "path": "Files/sn/Align/${basename}",
        "table": "Files/sn/Align/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"filtered_bam\"]"
      },
      "filtered_bam_bai": {
        "path": "Files/sn/Align/${basename}",
        "table": "Files/sn/Align/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bai\"]"
      }
    },
    "snATAC.gen_bed_and_bigwig": {
      "bed_file": {
        "path": "Files/sn/Bed/${basename}",
        "table": "Files/sn/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bed_file\"]"
      },
      "bedgraph_file": {
        "path": "Files/sn/Bed/${basename}",
        "table": "Files/sn/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bedgraph_file\"]"
      },
      "bw_file": {
        "path": "Files/sn/Bed/${basename}",
        "table": "Files/sn/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bigwig_file\"]"
      }
    },
    "snATAC.macs2_callpeaks": {
      "macs2_peak_narrowPeak": {
        "path": "Files/sn/Peak/${basename}",
        "table": "Files/sn/Peak/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"narrow_peak\"]"
      },
      "macs2_peak_xls": {
        "path": "Files/sn/Peak/${basename}",
        "table": "Files/sn/Peak/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"peak_xls\"]"
      },
      "macs2_peak_bed": {
        "path": "Files/sn/Peak/${basename}",
        "table": "Files/sn/Peak/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"summit_bed\"]"
      }
    },
    "snATAC.seperate_NFR": {
      "bed_NFR": {
        "path": "Files/sn/Bed/${basename}",
        "table": "Files/sn/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"NFR_bed\"]"
      },
      "bed_Nucleosome": {
        "path": "Files/sn/Bed/${basename}",
        "table": "Files/sn/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"Nucleosome_bed\"]"
      }
    },
    "snATAC.do_final_QC": {
      "final_QC_report": {
        "path": "Files/sn/Reports/${basename}",
        "table": "Files/sn/Reports/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"Final_QC_Report\"]"
      }
    },

    "snATAC.merge_bam": {
      "aggregate_bam": {
        "path": "Files/pseudo_bulk/Align/${basename}",
        "table": "Files/pseudo_bulk/Align/${basename}",
        "subgraph": "pooled",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"merged_bam\"]"
      }
    },
    "snATAC.do_align_filter_bulk": {
      "filtered_bam": {
        "path": "Files/pseudo_bulk/Align/${basename}",
        "table": "Files/pseudo_bulk/Align/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"filtered_bam_bulk\"]",
        "subgraph": "pooled"
      },
      "filtered_bam_bai": {
        "path": "Files/pseudo_bulk/Align/${basename}",
        "table": "Files/pseudo_bulk/Align/${basename}",
        "subgraph": "pooled",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"filtered_bam_bai_bulk\"]"
      }
    },
    "snATAC.gen_bed_and_bigwig_bulk": {
      "bed_file": {
        "path": "Files/pseudo_bulk/Bed/${basename}",
        "table": "Files/pseudo_bulk/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bed_file_bulk\"]",
        "subgraph": "pooled"
      },
      "bw_file": {
        "path": "Files/pseudo_bulk/Bed/${basename}",
        "table": "Files/pseudo_bulk/Bed/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"bigwig_file_bulk\"]",
        "subgraph": "pooled"
      }
    },
    "snATAC.macs2_callpeaks_bulk": {
      "macs2_peak_narrowPeak": {
        "path": "Files/pseudo_bulk/Peak/${basename}",
        "table": "Files/pseudo_bulk/Peak/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"narrow_peak_bulk\"]",
        "subgraph": "pooled"
      },
      "macs2_peak_bed": {
        "path": "Files/pseudo_bulk/Peak/${basename}",
        "table": "Files/pseudo_bulk/Peak/${basename}",
        "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"summit_bed_bulk\"]",
        "subgraph": "pooled"
      }
    },
    "snATAC.gen_count_matrix": {
          "count_matrix": {
            "path": "Files/CountMatrix/${basename}",
            "table": "Files/CountMatrix/${basename}",
            "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"count_matrix\"]",
            "subgraph": "pooled"
          },
          "count_row": {
            "path": "Files/CountMatrix/${basename}",
            "table": "Files/CountMatrix/${basename}",
            "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"count_rows\"]",
            "subgraph": "pooled"
          },
          "count_col": {
            "path": "Files/CountMatrix/${basename}",
            "table": "Files/CountMatrix/${basename}",
            "node": "[shape=box style=\"filled, rounded\" fillcolor=lightyellow label=\"count_cols\"]",
            "subgraph": "pooled"
          }
      },
      "inputs": {
        "snATAC.data_dir": {
            "node": "[shape=box style=\"filled, rounded\" fillcolor=pink label=\"data_dir\"]",
            "subgraph": "input"
          }
        },
    "task_graph_template": {
            "graph [rankdir=LR nodesep=0.1 ranksep=0.3]": null,
            "node [shape=box fontsize=9 margin=0.05 penwidth=0.5 height=0 fillcolor=lightcyan color=darkgrey style=filled]": null,
            "edge [arrowsize=0.5 color=darkgrey penwidth=0.5]": null,

            "subgraph pooled":{"style": "\"filled, dashed\"", "fontsize": "9", "color": "darkgrey", "penwidth": "0.5", "fillcolor": "oldlace", "labeljust": "\"l\"", "label": "\"Pooled\""},

            "subgraph input":  {"style": "\"filled, dashed\"", "fontsize": "9", "color": "darkgrey", "penwidth": "0.5", "fillcolor": "honeydew", "labeljust": "\"l\"", "label": "\"Input\""}
          }    
  }
  
  